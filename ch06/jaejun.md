프록시(Proxy)는 클라이언트와 서버 사이에서 중계 역할을 하는 서버나 애플리케이션이다. 

프록시는 클라이언트로부터의 요청을 받아서 해당 요청을 대상 서버로 전달하고, 대상 서버로부터의 응답을 다시 클라이언트에게 전달한다. 

이러한 프록시 서버는 클라이언트와 서버 간에 트래픽을 중계하고, 클라이언트 및 서버의 익명성, 보안, 성능 향상 등의 목적으로 사용된

- 프록시, 게이트웨이
    - 프락시는 같은 프로토콜을 사용하는 둘 이상의 애플리케이션을 연결하고 게이트웨이는 서로 다은 프로토콜을 사용하는 둘 이상을 연결한다.
    - 프록시는 보통 트래픽 중계, 보안, 캐싱, 로드 밸런싱 목적이며 게이트 웨이는 두 개의 다른 프로토콜간 통신을 중개 변환 하는 역활을 한다, 내부 네트워크와 외부 네트워크 간의 통신을 위해 사용하기도 하며, 보안검사, 프로토콜 변환, 데이터 포맷 변환 등 기능을 제공한다
    
- 프록시 사용 이유
    - 문서 접근 제어자
    - 보안 방화벽
    - 웹캐시
    - 대리 프락시
    - 콘텐츠 라우터
        - 특정 조건에 따라 특정 웹 서버로 유도하는 동작을 수행함
    - 트랜스코딩
        - 콘텐츠를 클라이언트에게 전달하기 전에 본문 포맷을 수정할 수 있다.
    - 익명화 프락시
        - IP 주소, From 헤더, Referer 헤더, 쿠기, URL 세션아이디를 제거
        
- Forward Proxy
    - 클라이언트 바로 뒤에 존재
    - 같은 내부망에 존재하는 클라이언트의 요청을 받아 외부 서버에서 데이터를 가져와 클라이언트에게 응답해준다.
    - 정부, 학교, 기업에 속한 사람들의 제한적인 인터넷 사용을 위해 방화벽같은 개념으로 제한을 위해 사용한다
    - 클라이언틍 요청은 포워드 프록시 서버를 통과할 때 암호화된다, 클라이언트 IP를 감춰주는 보안 효과를 내준다
- Reverse Proxy
    - WEB/WASS 앞에 높여져 있음
    - 웹서버에 요청하는것이 아닌 프록시로 요청하게 된다
    - 보통 DMZ 라고 부르는 내부네트워크/외부네트워크 사이에 위치하는 구간이 존재한다.
    - 로드밸런싱, 서버보안, 캐싱, 암호화의 이점을 이용할 수 있다.

- Via
    - Via 일반 헤더는 포워드 프록시와 리버스 프록시에 의해서 추가됩니다. 그리고 요청 또는 응답 헤더에 표시될 수 있습니다. 메시지 전달을 추적하고 요청 루프를 방지하며 요청/응답 체인에서 발신자의 프로토콜 기능을 식별하는 데 사용된다
    
    ```jsx
    Via: [ <protocol-name> "/" ] <protocol-version> <host> [ ":" <port> ]
    Via: [ <protocol-name> "/" ] <protocol-version> <pseudonym>
    ```
    
- MTLS
    - 상호 TLS(mTLS)는 상호 인증을 위한 방법.
    - mTLS는 네트워크 연결의 양쪽 끝에 있는 양 당사자가 올바른 개인 키를 가지고 있는지 확인하여 그들이 주장하는 당사자인지 확인.
    
    일반적인 tls는 서버측 인증서만 검증이 필요하지만 mtls는 클라이언트측의 인증서도 검증이 필요하게 된다.
    
    클라이언트가 서버에 접근하고자 하면 서버에서 검증할 rootCA 기관에 서명을 받은 인증서를 제출 해야 한다.
    
    ![du9k2ygt8btga8yg7nz8.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/9bf36ad3-0719-431a-b1e2-3f429aeb690d/14ca5144-ac0c-4383-b8b1-abdc768c3068/du9k2ygt8btga8yg7nz8.png)