# 캐시
![image](https://github.com/hwyi21/202404-http-perfect-guide/assets/58624211/88270d24-0a9e-49e7-91c5-9b0d1af6ea0a)
- 단점 
1. 메모리 사용량: 캐시된 데이터를 메모리에 저장해야 하므로 메모리 사용량이 높아질 수 있음
2. 데이터 불일치: 원본 데이터가 변경되면 캐시된 데이터와 일치하지 않을 수 있음
3. 적중률 문제: 캐시의 적중률이 낮으면 원래 데이터를 가져오는데 시간이 걸려 성능 저하가 발생 할 수 있음

## Redis(REmote DIctionary Serve)
- 캐시 시스템 중 하나
- 모든 데이터를 메모리에 저장하고 조회하는 인메모리 데이터베이스
- 주로 애플리케이션 캐시나 빠른 응답 속도를 가진 데이터베이스로 사용되는 오픈 소스 인메모리 NoSQL 키/값 저장소
- 다른 인메모리 디비들과 가장 큰 차이점은 문자열, 리스트, 해시, 셋, 정렬된 셋과 같은 다양한 데이터형을 지원한다는 것
- 영속성을 지원하는 인메모리 데이터 저장소
  - 레디스는 지속성을 보장하기 위해 데이터를 디스크에 저장 가능
  - 서버가 내려가더라도 디스크에 저장된 데이터를 읽어서 메모리에 로딩
    - RDB(Snapshotting) 방식
      - 메모리에 있는 데이터 전체에서 스냅샷을 작성하고 이를 디스크로 저장하는 방식
      - 특정 시간마다 스냅샷을 생성하고 데이터를 복원해야한다면 스냅샷을 로딩
      - 스냅샷 이후 변경된 데이터는 복구할 수 없음
    - AOF (Append On File) 방식 : Redis의 모든 write/update 연산 자체를 모두 log 파일에 기록하는 형태
- Redis 백업 방식 설정
1) RDB

- 자동 : Redis.conf 파일 → SAVE 옵션 설정 (시간 기준)
- 수동 : redis-cli에서 BGSAVE 커맨드를 이용하여 수동으로 RDB 파일 저장

      ** 주의 : SAVE 커맨드는 절대 사용 X (레디스는 싱글 스레드, 저장하는 동안 다른 작업 수행 불가)
2) AOF

- 자동 : redis.conf 파일 → auto-aof-rewrite-percentage 옵션 설정 (크기 기준)
- 수동 : redis-cli에서 BGREWRITEAOF 커맨드를 이용하여 수동으로 AOF 파일 재작성

## 인메모리 데이터베이스(In-Memory Database)
- 디스크가 아닌 주 메모리에 모든 데이터를 보유하고 있는 데이터베이스. 
- 디스크 검색보다 자료 접근이 훨씬 빠른 것이 가장 큰 장점



