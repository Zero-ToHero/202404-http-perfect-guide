# 17. 내용 협상과 트랜스코딩

## 트랜스 코딩

### 정의
#### 책
- 기존의 문서를 클라이언트가 사용할 수 있는 무언가로 변환시키는 것
#### 위키백과
- 하나의 인코딩을 다른 인코딩으로 직접 디지털-디지털로 변환하는 과정
- 일반적으로 대상 장치(또는 워크플로우)포맷을 지원하지 않거나 기억 공간이 충분치 않은 경우에 사용할 수 있고, 비호환 또는 구식 데이터를 현대의, 더 양호한 지원을 제공하는 포맷으로 변환하기 위해 사용할 수 있음
- 트랜스코딩은 일반적으로 손실이 많은 프로세스로, 생성 손실이 발생, 그러나 무손실 압축(JPEG2000)되거나 압축되지 않는 경우 무손실이 될 수 있음
#### 블로그
- 트랜스코딩(transcoding)은 디지털 미디어 파일을 한 포맷에서 다른 포맷으로 변환하는 과정
- 주로 비디오와 오디오 파일을 변환하는 데 사용되며, 다양한 목적을 위해 수행됨

### 주요 목적
1. **호환성 향상**:
   - 특정 장치나 플레이어가 지원하지 않는 포맷을 지원되는 포맷으로 변환하여 재생 가능하게 만듭니다.   
2. **파일 크기 감소**:
   - 저장 공간 절약이나 네트워크 전송 속도를 향상시키기 위해 파일 크기를 줄입니다.
3. **품질 최적화**:
   - 원본 파일의 품질을 유지하거나, 필요에 따라 품질을 조정하여 최적의 재생 환경을 제공합니다.
4. **스트리밍 용도**:
   - 비디오 스트리밍 서비스에서 다양한 네트워크 환경과 디바이스에 맞게 다양한 해상도와 비트레이트로 변환하여 제공할 수 있습니다.

### 트랜스코딩 과정
1. **디코딩(Decoding)**:
   - 원본 미디어 파일을 디코딩하여 압축된 데이터를 압축되지 않은 원시 데이터(raw data)로 변환합니다.
2. **변환(Conversion)**:
   - 디코딩된 원시 데이터를 원하는 포맷, 코덱, 비트레이트, 해상도 등으로 변환합니다. 
3. **인코딩(Encoding)**:
   - 변환된 데이터를 다시 압축하여 새로운 포맷으로 인코딩합니다.

### 트랜스코딩의 유형
1. **로스리스 트랜스코딩(Lossless Transcoding)**:
   - 원본 파일의 품질을 그대로 유지하면서 포맷을 변환합니다. 파일 크기는 크게 변하지 않지만, 호환성을 위해 유용할 수 있습니다.
2. **로시 트랜스코딩(Lossy Transcoding)**:
   - 파일 크기를 줄이기 위해 일부 데이터 손실을 허용하면서 포맷을 변환합니다. 비트레이트와 해상도를 조절하여 파일 크기를 최적화합니다.

## 트랜스코딩 vs 인코딩
- 인코딩(Encoding)과 트랜스코딩(Transcoding)은 모두 디지털 미디어 파일의 변환과 관련된 과정이지만, 그 목적과 과정에서 차이가 있음

### 인코딩(Encoding)
#### 정의
- 인코딩은 데이터를 특정 형식으로 변환하는 과정


### 주요 차이점

1. **변환 대상**:
   - **인코딩**: 원시 데이터(압축되지 않은 데이터)를 압축된 포맷으로 변환
   - **트랜스코딩**: 이미 인코딩된 파일을 다른 포맷 또는 비트레이트로 변환

2. **과정의 단계**:
   - **인코딩**: 단일 단계 (압축)
   - **트랜스코딩**: 두 단계 (디코딩 후 다시 인코딩)

3. **사용 사례**:
   - **인코딩**: 카메라로 촬영한 영상을 저장하거나, 오디오 녹음을 저장할 때.
   - **트랜스코딩**: 다양한 디바이스에 맞춰 비디오 파일을 변환하거나, 스트리밍 서비스를 제공할 때.


## 참고
- https://www.cdnetworks.com/ko/media-delivery-blog/what-is-transcoding/
- https://www.stackpath.com/edge-academy/what-is-transcoding/
- https://www.wowza.com/blog/encoding-vs-transcoding
