### 전세계 웹서버, 리버스 프록시 점유율

[전세계 웹 서버, 리버스 프록시 점유율 1위 NGINX](https://nginxstore.com/blog/nginx/전세계-웹-서버-리버스-프록시-점유율-1위-nginx/)
https://w3techs.com/technologies/comparison/ws-apache,ws-cloudflare,ws-nginx

![image](https://github.com/heeom/202404-http-perfect-guide/assets/64389364/770398dd-eb16-4d06-b878-92590f256450)


### Nginx와 Apache 비교

|  | Nginx | Apache | 참고 |
| --- | --- | --- | --- |
| 아키텍쳐 | - 이벤트 기반 아키텍쳐로 하나의 스레드에서 여러 요청을 처리하는 구조<br>- 비동기 event-driven 구조로 이벤트 핸들러에서 비동기 방식으로 먼저 처리되는 요청을 진행 | 프로세스 기반 접근 방식으로 하나의 스레드가 하나의 요청을 처리하는 구조 |  |
| 메모리 사용량 | 단일 프로세스 및 이벤트 기반 아키텍쳐를 사용해서 메모리 사용량이 적음 | 요청당 프로세스 또는 스레드를 생성해서 메모리 사용량이 높다 |  |
| 성능 | 비동기, 이벤트 기반 아키텍처를 사용하므로 고부하 상황에서도 빠른 속도로 요청 처리 가능하다 | 요청당 스레드를 생성하므로 부하가 많은 경우 동시 연결을 처리하는데 어려움이 있음 |  |
| 컨텐츠 처리 성능 | 정적 컨텐츠는 nginx가 아키구조상 적은 비용으로 효율적인 서비스 제공<br>동적 컨텐츠는 두 웹서버가 성능 비슷 |  |  |
| 지원 OS  | 거의 모든 unix 계열 OS 지원, Windows는 부분적으로 지원 | 모든 unix 계열 OS 지원, Windows 모두 지원 |  |
| 분산 및 중앙 집중식 구성 | .htaccess 파일 지원 안함(추가구성 허용안함) → nginx설정은 하나의 중앙 설정 파일에 작성된다.디렉토리 구성 허용하지 않아서 .htaccess 파일 검색하고 사용자가 변경한 설정을 해석할 필요가 없어서 apache보다 빠르게 요청 처리 가능 | .htaccess파일 사용해서 동적 설정 변경한다. (추가구성 허용) | .htaccess 파일: 웹서버의 동작을 변경하고 디렉토리별로 웹사이트 설정을 구성할수 있게 하는 설정 파일 (동적으로 로드 되는 파일)
| 모듈 | 동적으로 모듈 로드가 불가능 → 사용하려는 기능만 선택해서 서버를 실행하므로 가볍다 | 동적으로 모듈 로딩 가능 (공식 지원 모듈 60개) → 모든 모듈을 가지고 서버가 실행되지만 실제로 사용되는 모듈은 소수) |  |

- .htacess 파일을 활용하거나 Nginx에게 없는 핵심 모듈을 사용할 경우 -> Apache를 사용
- 빠른 정적 컨텐츠를 처리하고 싶고 대용량 트래픽을 처리하는 웹 사이트인 경우 -> Nginx를 사용

참고
https://sorjfkrh5078.tistory.com/289
